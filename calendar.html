<!DOCTYPE html>
<html lang="hu">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Heti Edzésterv</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="calendar.css">
</head>
<body>

  <nav class="navbar navbar-expand-lg navbar-dark shadow-lg">
    <div class="container">
      <a class="navbar-brand" href="#">Edzésterv</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item"><a class="nav-link active" href="index.html">Főoldal</a></li>
          <li class="nav-item"><a class="nav-link" href="calendar.html">Naptár</a></li>
          <li class="nav-item"><a class="nav-link" href="goals.html">Célok</a></li>
        </ul>
      </div>
    </div>
  </nav>
  <!-- HERO -->
  <header class="hero">
    <div class="hero-overlay"></div>
    <div class="hero-content">
      <h1>Heti Edzésterv</h1>
      <p>Kövesd nyomon az edzéseidet minden nap!</p>
    </div>
  </header>

  <!-- HÉT NAPI EDZÉSEK -->
  <section class="container py-5">
    <h2 class="text-center mb-4">Ez a hét edzései</h2>
    <div class="week-grid" id="week-calendar">
      <!-- Napok JS-ből -->
    </div>
  </section>

  <footer class="bg-dark text-white text-center py-3">
    &copy; 2025 Az Én Edzéstervem
  </footer>

<script>
const urlParams = new URLSearchParams(window.location.search);
const month = urlParams.get('month') || 'december';
const week = urlParams.get('week') || '1';

const daysOfWeek = ['Hétfő','Kedd','Szerda','Csütörtök','Péntek','Szombat','Vasárnap'];
const weekContainer = document.getElementById('week-calendar');

fetch('data.json')
  .then(res => res.json())
  .then(data => {
    const monthData = data[month];
    let dayIndex = 1;

    daysOfWeek.forEach(dayName => {
      const dayData = monthData[dayIndex] || {exercises: [], progress: 0};
      const dayDiv = document.createElement('div');
      dayDiv.className = "day-block";
      // Lista nélkül, csak sorok
      const exercisesHTML = dayData.exercises.map(ex => `<div class="exercise-item">${ex}</div>`).join('');
      dayDiv.innerHTML = `
        <div class="day-header">${dayName}</div>
        ${exercisesHTML}
        <div class="progress">
          <div class="progress-bar" role="progressbar" style="width:0%" aria-valuenow="${dayData.progress}" aria-valuemin="0" aria-valuemax="100">${dayData.progress}%</div>
        </div>
      `;
      weekContainer.appendChild(dayDiv);
      dayIndex++;
    });

    // Animate progress bars
    document.querySelectorAll('.progress-bar').forEach(bar => {
      const val = bar.getAttribute('aria-valuenow');
      setTimeout(()=>{ bar.style.width = val + '%'; }, 300);
    });
  });
</script>


</body>
</html>